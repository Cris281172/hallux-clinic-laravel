import{r as S,v,j as e}from"./app-BftRUR-1.js";import{P as b}from"./patient-single-card-CwkArF8a.js";import{D as z}from"./datetime-visit-6JyW4yZJ.js";import{f as I,F as m}from"./formatToMySQLDateTime-CHIxrpGQ.js";import{H as N}from"./heading-jgeuUfuP.js";import{B as V}from"./button-BwfzrTOi.js";import{I as C}from"./input-GpzuGi3d.js";import{L as i}from"./label-CKH2UcpX.js";import{S as n,a as p,b as c,c as u,d as x,e as h}from"./select-B3krrf5X.js";import{T}from"./textarea-ChRZRWk6.js";import{D as E}from"./dashboard-layout-DSLjRHPn.js";/* empty css            */import"./iconBase-CmTXln1Y.js";import"./index-CCk3feWG.js";import"./card-D7DrkFZ6.js";import"./index-kuGHw10J.js";import"./status-patient-DWCmeOid.js";import"./index-CtBsO7PD.js";import"./pl-DAdpWqjC.js";import"./index-CPQR8Y7t.js";import"./createLucideIcon-eJA8dgrf.js";import"./index-DLGr7UE5.js";import"./index-CWY55Mf-.js";import"./index-CulU0CDK.js";import"./dialog-_uLIKa5e.js";import"./index-Dg8AH8rt.js";import"./index-DqQ4O7lB.js";import"./check-vI2O-bgC.js";import"./index-CS0DtYFy.js";import"./index-D55SEbqA.js";import"./index-BP6sl4Uq.js";import"./sonner-BVMUHgQP.js";const ne=({visit:a,statuses:j,users:f})=>{const[g,o]=S.useState([]),{data:r,setData:s,post:y,errors:d}=v({description:a.description,patientID:a.patient_id,date:a.date,userID:a.user_id,statusID:`${a.status_id}`,price:a.price}),D=t=>{t.preventDefault(),y(route("dashboard.visit.edit",a.id))},w=t=>{s("userID",t),s("date",void 0),o([])};return e.jsxs(E,{children:[e.jsx(N,{title:"Edytuj wizytę"}),e.jsx(b,{patient:a.patient,visitInfoVisible:!1}),e.jsxs("form",{className:"px-4",onSubmit:D,children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"date",children:"Data i godzina wizyty"}),e.jsx(z,{selected:r.date?new Date(r.date):null,data:r,onChange:t=>s("date",I(t)),setAvailableTimes:o,availableTimes:g}),e.jsx(m,{id:"date-error",message:d.date})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"age",children:"Status wizyty"}),e.jsxs(n,{defaultValue:r.statusID,onValueChange:t=>s("statusID",t),children:[e.jsx(p,{className:"w-full",children:e.jsx(c,{placeholder:"Wybierz status wizyty"})}),e.jsx(u,{children:e.jsx(x,{children:j.map((t,l)=>e.jsx(h,{value:`${t.id}`,children:t.name},l))})})]})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"phone",children:"Opis wizyty"}),e.jsx(T,{value:r.description,onChange:t=>s("description",t.target.value),placeholder:"Podaj opis wizyty",id:"description"})]}),e.jsxs("div",{className:"flex w-full flex-col gap-1.5",children:[e.jsx(i,{children:"Lekarz"}),e.jsxs(n,{defaultValue:`${r.userID}`,onValueChange:w,children:[e.jsx(p,{className:"w-full",children:e.jsx(c,{placeholder:"Wybierz lekarza"})}),e.jsx(u,{children:e.jsx(x,{children:f.map((t,l)=>e.jsx(h,{value:`${t.id}`,children:t.name},l))})})]}),e.jsx(m,{id:"surname-error",message:d.userID})]}),e.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.jsx(i,{htmlFor:"price",children:"Kod"}),e.jsx(C,{value:r.price,onChange:t=>s("price",t.target.value),type:"text",id:"price",placeholder:"Podaj kod"})]})]}),e.jsx(V,{type:"submit",className:"mt-5",children:"Edytuj wizytę"})]})]})};export{ne as default};
