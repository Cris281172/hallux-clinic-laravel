import{r as n,j as t,m as le}from"./app-BftRUR-1.js";import{P as pe}from"./patient-single-card-CwkArF8a.js";import{V as fe}from"./visit-create-Do5g8L2b.js";import{H as me}from"./heading-jgeuUfuP.js";import{I as ve}from"./input-GpzuGi3d.js";import{L}from"./label-CKH2UcpX.js";import{c as G,a as x,u as M,P as Re}from"./index-CWY55Mf-.js";import{u as F,c as K}from"./index-kuGHw10J.js";import{P as S}from"./index-DLGr7UE5.js";import{c as ge,u as U}from"./index-CulU0CDK.js";import{u as be}from"./index-Dg8AH8rt.js";import{u as he}from"./dialog-_uLIKa5e.js";import{u as Ie}from"./index-CS0DtYFy.js";import{u as xe}from"./index-DqQ4O7lB.js";import{c as ye}from"./createLucideIcon-eJA8dgrf.js";import{D as we}from"./dashboard-layout-DSLjRHPn.js";/* empty css            */import"./iconBase-CmTXln1Y.js";import"./index-CCk3feWG.js";import"./card-D7DrkFZ6.js";import"./status-patient-DWCmeOid.js";import"./formatToMySQLDateTime-CHIxrpGQ.js";import"./index-CPQR8Y7t.js";import"./button-BwfzrTOi.js";import"./select-B3krrf5X.js";import"./check-vI2O-bgC.js";import"./textarea-ChRZRWk6.js";import"./datetime-visit-6JyW4yZJ.js";import"./index-CtBsO7PD.js";import"./pl-DAdpWqjC.js";import"./index-D55SEbqA.js";import"./index-BP6sl4Uq.js";import"./sonner-BVMUHgQP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Se=ye("Circle",Ce);var N="rovingFocusGroup.onEntryFocus",Ee={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[T,V,Fe]=ge(E),[je,B]=G(E,[Fe]),[_e,Pe]=je(E),z=n.forwardRef((e,r)=>t.jsx(T.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(T.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ae,{...e,ref:r})})}));z.displayName=E;var Ae=n.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:o,orientation:a,loop:s=!1,dir:l,currentTabStopId:p,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:c=!1,...i}=e,R=n.useRef(null),d=F(r,R),g=U(l),[h,u]=M({prop:p,defaultProp:v??null,onChange:m,caller:E}),[y,_]=n.useState(!1),I=he(f),w=V(o),P=n.useRef(!1),[se,k]=n.useState(0);return n.useEffect(()=>{const b=R.current;if(b)return b.addEventListener(N,I),()=>b.removeEventListener(N,I)},[I]),t.jsx(_e,{scope:o,orientation:a,dir:g,loop:s,currentTabStopId:h,onItemFocus:n.useCallback(b=>u(b),[u]),onItemShiftTab:n.useCallback(()=>_(!0),[]),onFocusableItemAdd:n.useCallback(()=>k(b=>b+1),[]),onFocusableItemRemove:n.useCallback(()=>k(b=>b-1),[]),children:t.jsx(S.div,{tabIndex:y||se===0?-1:0,"data-orientation":a,...i,ref:d,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{P.current=!0}),onFocus:x(e.onFocus,b=>{const ie=!P.current;if(b.target===b.currentTarget&&ie&&!y){const O=new CustomEvent(N,Ee);if(b.currentTarget.dispatchEvent(O),!O.defaultPrevented){const A=w().filter(C=>C.focusable),ce=A.find(C=>C.active),ue=A.find(C=>C.id===h),de=[ce,ue,...A].filter(Boolean).map(C=>C.ref.current);Y(de,c)}}P.current=!1}),onBlur:x(e.onBlur,()=>_(!1))})})}),q="RovingFocusGroupItem",H=n.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:o,focusable:a=!0,active:s=!1,tabStopId:l,children:p,...v}=e,m=be(),f=l||m,c=Pe(q,o),i=c.currentTabStopId===f,R=V(o),{onFocusableItemAdd:d,onFocusableItemRemove:g,currentTabStopId:h}=c;return n.useEffect(()=>{if(a)return d(),()=>g()},[a,d,g]),t.jsx(T.ItemSlot,{scope:o,id:f,focusable:a,active:s,children:t.jsx(S.span,{tabIndex:i?0:-1,"data-orientation":c.orientation,...v,ref:r,onMouseDown:x(e.onMouseDown,u=>{a?c.onItemFocus(f):u.preventDefault()}),onFocus:x(e.onFocus,()=>c.onItemFocus(f)),onKeyDown:x(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){c.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const y=Ge(u,c.orientation,c.dir);if(y!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let I=R().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")I.reverse();else if(y==="prev"||y==="next"){y==="prev"&&I.reverse();const w=I.indexOf(u.currentTarget);I=c.loop?De(I,w+1):I.slice(w+1)}setTimeout(()=>Y(I))}}),children:typeof p=="function"?p({isCurrentTabStop:i,hasTabStop:h!=null}):p})})});H.displayName=q;var Ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Te(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ge(e,r,o){const a=Te(e.key,o);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Ne[a]}function Y(e,r=!1){const o=document.activeElement;for(const a of e)if(a===o||(a.focus({preventScroll:r}),document.activeElement!==o))return}function De(e,r){return e.map((o,a)=>e[(r+a)%e.length])}var ke=z,Oe=H,D="Radio",[Le,$]=G(D),[Me,Ke]=Le(D),W=n.forwardRef((e,r)=>{const{__scopeRadio:o,name:a,checked:s=!1,required:l,disabled:p,value:v="on",onCheck:m,form:f,...c}=e,[i,R]=n.useState(null),d=F(r,u=>R(u)),g=n.useRef(!1),h=i?f||!!i.closest("form"):!0;return t.jsxs(Me,{scope:o,checked:s,disabled:p,children:[t.jsx(S.button,{type:"button",role:"radio","aria-checked":s,"data-state":Z(s),"data-disabled":p?"":void 0,disabled:p,value:v,...c,ref:d,onClick:x(e.onClick,u=>{s||m==null||m(),h&&(g.current=u.isPropagationStopped(),g.current||u.stopPropagation())})}),h&&t.jsx(Q,{control:i,bubbles:!g.current,name:a,value:v,checked:s,required:l,disabled:p,form:f,style:{transform:"translateX(-100%)"}})]})});W.displayName=D;var X="RadioIndicator",J=n.forwardRef((e,r)=>{const{__scopeRadio:o,forceMount:a,...s}=e,l=Ke(X,o);return t.jsx(Re,{present:a||l.checked,children:t.jsx(S.span,{"data-state":Z(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:r})})});J.displayName=X;var Ue="RadioBubbleInput",Q=n.forwardRef(({__scopeRadio:e,control:r,checked:o,bubbles:a=!0,...s},l)=>{const p=n.useRef(null),v=F(p,l),m=xe(o),f=Ie(r);return n.useEffect(()=>{const c=p.current;if(!c)return;const i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"checked").set;if(m!==o&&d){const g=new Event("click",{bubbles:a});d.call(c,o),c.dispatchEvent(g)}},[m,o,a]),t.jsx(S.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...s,tabIndex:-1,ref:v,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q.displayName=Ue;function Z(e){return e?"checked":"unchecked"}var Ve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j="RadioGroup",[Be,Nt]=G(j,[B,$]),ee=B(),te=$(),[ze,qe]=Be(j),oe=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,name:a,defaultValue:s,value:l,required:p=!1,disabled:v=!1,orientation:m,dir:f,loop:c=!0,onValueChange:i,...R}=e,d=ee(o),g=U(f),[h,u]=M({prop:l,defaultProp:s??null,onChange:i,caller:j});return t.jsx(ze,{scope:o,name:a,required:p,disabled:v,value:h,onValueChange:u,children:t.jsx(ke,{asChild:!0,...d,orientation:m,dir:g,loop:c,children:t.jsx(S.div,{role:"radiogroup","aria-required":p,"aria-orientation":m,"data-disabled":v?"":void 0,dir:g,...R,ref:r})})})});oe.displayName=j;var re="RadioGroupItem",ae=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,disabled:a,...s}=e,l=qe(re,o),p=l.disabled||a,v=ee(o),m=te(o),f=n.useRef(null),c=F(r,f),i=l.value===s.value,R=n.useRef(!1);return n.useEffect(()=>{const d=h=>{Ve.includes(h.key)&&(R.current=!0)},g=()=>R.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",g)}},[]),t.jsx(Oe,{asChild:!0,...v,focusable:!p,active:i,children:t.jsx(W,{disabled:p,required:l.required,checked:i,...m,...s,name:l.name,ref:c,onCheck:()=>l.onValueChange(s.value),onKeyDown:x(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:x(s.onFocus,()=>{var d;R.current&&((d=f.current)==null||d.click())})})})});ae.displayName=re;var He="RadioGroupIndicator",ne=n.forwardRef((e,r)=>{const{__scopeRadioGroup:o,...a}=e,s=te(o);return t.jsx(J,{...s,...a,ref:r})});ne.displayName=He;var Ye=oe,$e=ae,We=ne;function Xe({className:e,...r}){return t.jsx(Ye,{"data-slot":"radio-group",className:K("grid gap-3",e),...r})}function Je({className:e,...r}){return t.jsx($e,{"data-slot":"radio-group-item",className:K("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(We,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:t.jsx(Se,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Tt=({statuses:e,users:r})=>{const[o,a]=n.useState(""),[s,l]=n.useState(),[p,v]=n.useState(!1),[m,f]=n.useState(null),c=async(i="")=>{v(!0);try{const d=await(await fetch(route("api.dashboard.patients.get.all")+`?search=${encodeURIComponent(i)}`)).json();l(d.patients)}catch{}finally{v(!1)}};return n.useEffect(()=>{c()},[]),t.jsxs(we,{children:[t.jsx(me,{title:"Dodaj wizytę"}),t.jsxs(fe,{patientID:m,setAddVisitOpen:!1,statuesVisit:e,onSuccess:()=>le.visit(route("dashboard.patient.get.all")),users:r,children:[t.jsxs("form",{onSubmit:async i=>{i.preventDefault(),await c(o)},className:"mt-12 mb-6 grid w-full items-center gap-1.5",children:[t.jsx(L,{children:"Wybierz pacjenta"}),t.jsx(ve,{type:"text",placeholder:"Szukaj pacjenta po nazwie/email/numer telefonu...",value:o,onChange:i=>a(i.target.value)})]}),p?"Ładowanie":t.jsx(Xe,{onValueChange:i=>f(i),className:"grid grid-cols-2 gap-5",children:s&&(s==null?void 0:s.data.length)!==0&&t.jsx(t.Fragment,{children:s.data.map((i,R)=>t.jsx(pe,{patient:i,children:t.jsxs("div",{className:"mt-5 flex items-center gap-3",children:[t.jsx(Je,{value:i.id,id:i.id}),t.jsx(L,{htmlFor:i.id,children:"Wybierz pacjenta"})]})}))})})]})]})};export{Tt as default};
