import{q as C,r as m,j as e,R as b,Y as p,m as h}from"./app-BftRUR-1.js";import{T as a}from"./index-CtBsO7PD.js";import{D as N,A as T,a as v,b as k,c as V,d as B,e as F,f as U,g as W,h as E,i as H,B as L,j as O}from"./alert-dialog-Cs5-UKUU.js";import{V as R}from"./visit-single-card-BG4cOTCi.js";import{H as Y}from"./heading-jgeuUfuP.js";import{B as n}from"./button-BwfzrTOi.js";import{C as $}from"./calendar-CphoUNsX.js";import{D as G,a as I,b as q,d as M}from"./dialog-_uLIKa5e.js";import{L as P}from"./label-CKH2UcpX.js";import{S as J,a as K,b as Q,c as X,d as Z,e as x}from"./select-B3krrf5X.js";import{D as _}from"./dashboard-layout-DSLjRHPn.js";import{p as ee}from"./pl-DAdpWqjC.js";/* empty css            */import"./createLucideIcon-eJA8dgrf.js";import"./index-kuGHw10J.js";import"./iconBase-CmTXln1Y.js";import"./index-VjK7pq7q.js";import"./index-CCk3feWG.js";import"./status-visit-Q1Q2ZJcp.js";import"./status-patient-DWCmeOid.js";import"./index-CWY55Mf-.js";import"./card-D7DrkFZ6.js";import"./chevron-right-CI2Vgdyp.js";import"./index-CulU0CDK.js";import"./index-Dg8AH8rt.js";import"./index-DLGr7UE5.js";import"./index-CPQR8Y7t.js";import"./index-DqQ4O7lB.js";import"./check-vI2O-bgC.js";import"./index-CS0DtYFy.js";import"./index-D55SEbqA.js";import"./index-BP6sl4Uq.js";import"./input-GpzuGi3d.js";import"./sonner-BVMUHgQP.js";const We=({visits:i,date:c,users:j,user_id:l})=>{const{props:g}=C(),u=g.permissions,[f,w]=m.useState(null),[d,y]=m.useState((l==null?void 0:l.toString())??"all"),D=t=>{const[r,s,o]=t.split("-").map(Number);return new Date(o,s-1,r)},S=t=>{if(!t)return;const r=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),A=`${r}-${s}-${o}`;h.get(a("dashboard.visit.get.all",[A,d]),{},{preserveScroll:!0,preserveState:!0})},z=t=>{y(t),h.get(a("dashboard.visit.get.all",[c,t]),{},{preserveScroll:!0,preserveState:!0})};return e.jsxs(_,{children:[e.jsx(Y,{title:"Wszystkie wizyty"}),e.jsxs("div",{className:"flex w-full gap-1",children:[e.jsxs("div",{className:"flex w-full max-w-[250px] flex-col gap-1.5",children:[e.jsx(P,{children:"Użytkownik"}),e.jsxs(J,{defaultValue:d,onValueChange:z,children:[e.jsx(K,{className:"w-full",children:e.jsx(Q,{placeholder:"Wybierz użytkownika"})}),e.jsx(X,{children:e.jsxs(Z,{children:[e.jsx(x,{value:"all",children:"Wszyscy"}),j.map((t,r)=>e.jsx(x,{value:t.id,children:t.name},r))]})})]})]}),e.jsx($,{locale:ee,mode:"single",selected:D(c),onSelect:S,className:""})]}),e.jsx("div",{className:"mt-5",children:i&&i.length!==0?e.jsx("div",{className:"grid w-full grid-cols-3 gap-10",children:i.sort((t,r)=>new Date(r.date)-new Date(t.date)).map((t,r)=>e.jsx(b.Fragment,{children:e.jsx(R,{visit:t,children:e.jsxs("div",{className:"flex gap-5",children:[e.jsxs(G,{open:f===t.id,onOpenChange:s=>w(s?t.id:null),children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{className:"flex-1 cursor-pointer",children:"Szczegóły"})}),e.jsxs(q,{className:"sm:max-w-[900px]",children:[e.jsx(M,{children:e.jsx("div",{children:"test"})}),e.jsx(N,{patient:t.patient})]})]}),e.jsx(n,{className:"flex-1",asChild:!0,children:e.jsx(p,{href:a("dashboard.visit.edit.view",t.id),children:"Edytuj"})}),u.find(s=>s.name==="usuwanie wizyt")&&e.jsxs(T,{children:[e.jsx(v,{asChild:!0,children:e.jsx(n,{variant:"outline",className:"flex-1",children:"Usuń wizytę"})}),e.jsxs(k,{children:[e.jsxs(V,{children:[e.jsx(B,{children:"Czy jesteś pewna/y usunięcia wizyty?"}),e.jsx(F,{children:"Ta czynność spowoduje trwałe usunięcie wizyty bez możliwości jej przywrócenia."})]}),e.jsxs(U,{children:[e.jsx(W,{children:"Anuluj"}),e.jsx(E,{asChild:!0,children:e.jsx(p,{href:a("dashboard.visit.delete",t.id),children:"Potwierdz"})})]})]})]})]})})},r))}):e.jsxs(H,{children:[e.jsx(L,{}),e.jsx(O,{children:"Brak wizyt!"})]})})]})};export{We as default};
