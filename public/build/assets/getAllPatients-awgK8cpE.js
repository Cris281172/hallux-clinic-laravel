import{r,j as e,m as v,R as z,Y as N}from"./app-BftRUR-1.js";import{D as V,A as I,a as P,b as T,c as k,d as B,e as O,f as F,g as W,h as _,i as E,B as H,j as L}from"./alert-dialog-Cs5-UKUU.js";import{a as R,b as $}from"./index-BP6sl4Uq.js";import{A as G}from"./app-pagination-CEc30f8x.js";import{P as Y}from"./patient-single-card-CwkArF8a.js";import{V as U}from"./visit-create-Do5g8L2b.js";import{H as q}from"./heading-jgeuUfuP.js";import{B as l}from"./button-BwfzrTOi.js";import{D as m,a as p,b as j,d as x}from"./dialog-_uLIKa5e.js";import{I as J}from"./input-GpzuGi3d.js";import{L as u}from"./label-CKH2UcpX.js";import{S as K,a as M,b as Q,c as X,d as Z,e as h}from"./select-B3krrf5X.js";import{D as ee}from"./dashboard-layout-DSLjRHPn.js";/* empty css            */import"./createLucideIcon-eJA8dgrf.js";import"./index-kuGHw10J.js";import"./iconBase-CmTXln1Y.js";import"./index-VjK7pq7q.js";import"./index-CCk3feWG.js";import"./index-CtBsO7PD.js";import"./status-visit-Q1Q2ZJcp.js";import"./status-patient-DWCmeOid.js";import"./index-CWY55Mf-.js";import"./chevron-right-CI2Vgdyp.js";import"./card-D7DrkFZ6.js";import"./formatToMySQLDateTime-CHIxrpGQ.js";import"./index-CPQR8Y7t.js";import"./textarea-ChRZRWk6.js";import"./datetime-visit-6JyW4yZJ.js";import"./pl-DAdpWqjC.js";import"./index-Dg8AH8rt.js";import"./index-DLGr7UE5.js";import"./index-CulU0CDK.js";import"./index-DqQ4O7lB.js";import"./check-vI2O-bgC.js";import"./index-CS0DtYFy.js";import"./index-D55SEbqA.js";import"./sonner-BVMUHgQP.js";const Ee=({data:g,statuses:f,users:D})=>{const{patients:a,filters:c,visitStatuses:S}=g,[i,w]=r.useState(c.status_id||""),[t,A]=r.useState(c.search||""),[y,d]=r.useState(null),[C,b]=r.useState(null);return e.jsxs(ee,{children:[e.jsx(q,{title:"Wszyscy pacjencji"}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),v.get(route("dashboard.patient.get.all"),{...t&&{search:t},...i&&{status_id:i}},{preserveScroll:!0})},className:"mb-6 flex w-full items-end justify-between gap-3.5",children:[e.jsxs("div",{className:"flex w-full flex-col gap-1.5",children:[e.jsx(u,{children:"Szukaj"}),e.jsx(J,{type:"text",placeholder:"Szukaj pacjenta po nazwie/email/numer telefonu...",value:t,onChange:s=>A(s.target.value)})]}),e.jsxs("div",{className:"flex w-1/3 flex-col gap-1.5",children:[e.jsx(u,{children:"Status"}),e.jsxs(K,{defaultValue:`${i}`,onValueChange:s=>w(`${s}`),children:[e.jsx(M,{className:"w-full",children:e.jsx(Q,{placeholder:"Wybierz status pacjenta"})}),e.jsx(X,{children:e.jsxs(Z,{children:[e.jsx(h,{value:null,children:"Brak"}),f.map((s,n)=>e.jsx(h,{value:`${s.id}`,children:s.name},n))]})})]})]}),e.jsx(l,{type:"submit",children:"Wyszukaj pacjenta"})]}),(a==null?void 0:a.data.length)!==0?e.jsx("div",{className:"grid grid-cols-2 gap-5",children:a.data.map((s,n)=>e.jsx(z.Fragment,{children:e.jsx(Y,{patient:s,children:e.jsxs("div",{className:"mt-5 flex w-full gap-4",children:[e.jsxs(m,{open:C===s.id,onOpenChange:o=>b(o?s.id:null),children:[e.jsx(p,{asChild:!0,children:e.jsxs(l,{className:"flex-1 cursor-pointer",children:[e.jsx(R,{}),"Szczegóły"]})}),e.jsxs(j,{className:"sm:max-w-[900px]",children:[e.jsx(x,{children:e.jsx("div",{children:"test"})}),e.jsx(V,{patient:s,className:"px-4"})]})]}),e.jsxs(m,{open:y===s.id,onOpenChange:o=>d(o?s.id:null),children:[e.jsx(p,{asChild:!0,children:e.jsxs(l,{className:"flex-1 cursor-pointer",variant:"outline",children:[e.jsx($,{}),"Dodaj wizytę"]})}),e.jsxs(j,{className:"sm:max-w-[650px]",children:[e.jsx(x,{children:e.jsx("div",{children:"test"})}),e.jsx(U,{patientID:s.id,statuesVisit:S,onSuccess:()=>d(null),className:"px-4",users:D})]})]}),e.jsxs(I,{children:[e.jsx(P,{asChild:!0,children:e.jsx(l,{variant:"outline",className:"flex-1",children:"Usuń pacjenta"})}),e.jsxs(T,{children:[e.jsxs(k,{children:[e.jsx(B,{children:"Czy jesteś pewna/y usunięcia pacjenta?"}),e.jsx(O,{children:"Ta czynność spowoduje trwałe usunięcie pacjenta bez możliwości jej przywrócenia."})]}),e.jsxs(F,{children:[e.jsx(W,{children:"Anuluj"}),e.jsx(_,{asChild:!0,children:e.jsx(N,{href:route("dashboard.patient.delete",s.id),children:"Potwierdz"})})]})]})]})]})})},n))}):e.jsxs(E,{children:[e.jsx(H,{}),e.jsx(L,{children:"Brak wyników!"})]}),(a==null?void 0:a.data.length)!==0&&e.jsx(G,{lastPage:a.last_page,currentPage:a.current_page,url:"/dashboard/patients/get/all",search:t})]})};export{Ee as default};
