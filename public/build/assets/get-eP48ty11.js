import{r as p,v as j,j as e}from"./app-BftRUR-1.js";import{h}from"./header-CXnzGCE9.js";import{D as u,a as g,b as f,c as v,d as D}from"./dialog-_uLIKa5e.js";import{t as y}from"./sonner-BVMUHgQP.js";import{I as l}from"./input-GpzuGi3d.js";import{T as b}from"./textarea-ChRZRWk6.js";import{S as k,a as z}from"./subpage-layout-container-CP0KcGTp.js";import{A as _}from"./app-layout-xhaC0-46.js";/* empty css            */import"./index-CWY55Mf-.js";import"./index-kuGHw10J.js";import"./index-Dg8AH8rt.js";import"./index-DLGr7UE5.js";import"./index-CPQR8Y7t.js";import"./createLucideIcon-eJA8dgrf.js";const c=({postID:a,parentID:s,type:t})=>{const[o,i]=p.useState(!1),{data:n,setData:d,post:x}=j({text:"",email:"",username:"",post_id:a,parent_id:s}),m=r=>{r.preventDefault(),x(route("blog.post.add.comment")),i(!1),y("Komentarz",{description:"Komentarz został dodany i czeka na weryfikacje "})};return e.jsx(e.Fragment,{children:e.jsxs(u,{open:o,children:[e.jsx(g,{onClick:()=>i(!0),children:t==="parent"?"Dodaj komentarz":"Dodaj odpowiedź"}),e.jsx(f,{children:e.jsxs(v,{children:[e.jsx(D,{children:"Dodaj komentarz"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"flex gap-5",children:[e.jsx(l,{value:n.username,onChange:r=>d("username",r.target.value),placeholder:"Podaj nazwę użytkownika",title:"Nazwa użytkownika"}),e.jsx(l,{value:n.email,onChange:r=>d("email",r.target.value),placeholder:"Podaj email",title:"Email"})]}),e.jsx(b,{value:n.text,onChange:r=>d("text",r.target.value),placeholder:"Dodaj komentarz",id:"short_desc"}),e.jsx("button",{type:"submit",children:"Dodaj komenatrz"})]})]})})]})})},w=({postID:a,comments:s})=>{if(s.data.length!==0)return e.jsxs("div",{children:[e.jsx("h3",{children:"Komentarze"}),e.jsx("div",{className:"flex flex-col gap-3",children:s.data.map((t,o)=>e.jsxs("div",{children:[e.jsxs("div",{className:"rounded-2xl bg-gray-600 p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h5",{children:t.username}),e.jsx("p",{children:t.created_at})]}),e.jsx("p",{children:t.text}),e.jsx(c,{postID:a,type:"children",parentID:t.id})]},o),t.published_subcomments.map((i,n)=>e.jsxs("div",{className:"rounded-2xl bg-gray-600 p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h5",{children:i.username}),e.jsx("p",{children:i.created_at})]}),e.jsx("p",{children:i.text})]},n))]}))})]})},M=({post:a,comments:s})=>e.jsxs(_,{children:[e.jsx(k,{title:a.title,text:a.short_desc,background:h}),e.jsxs(z,{children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:a.desc}}),e.jsxs("div",{className:"container mx-auto",children:[e.jsx(c,{postID:a.id,type:"parent"}),e.jsx(w,{postID:a.id,comments:s})]})]})]});export{M as default};
